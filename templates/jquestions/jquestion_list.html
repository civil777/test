{% extends "base2.html" %}
{% load static %}


{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
<div class="container my-3">
    <table class="table">
        <thead>
        <tr class="thead-dark">
            <th>번호</th>
            <th>제목</th>
            <th>닉네임</th>
            <th>작성일시</th>
        </tr>
        </thead>
        <tbody>
        {% if jquestion_list %}
        {% for jquestion in jquestion_list %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>
                <a href="{% url 'jquestions:detail' jquestion.id %}">{{ jquestion.subject }}</a>
                    {% if jquestion.answer_set.count > 0 %}
                    <span class="text-danger small ml-2">답변이 등록되었습니다! +{{ jquestion.answer_set.count }}</span>
                    {% endif %}
            </td>
            <td>{{ jquestion.nickname }}</td>
            <td>{{ jquestion.created }}</td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="3">질문이 없습니다.</td>
        </tr>
        {% endif %}
        </tbody>
    </table>


    <a href="/jquestion/create/">
       <button class="btn btn-primary">질문하기</button>
    </a>
    <div class="flex item-center mx-auto container justify-center mb-20">
    {% if page_obj.has_previous %}
    <a href="?page={{page_obj.previous_page_number}}" class="text-teal-500"><i class="fas fa-arrow-left fa-lg"></i></a>
    {% endif %}

    <span class="mx-3 font-medium">{{page_obj.number}} of {{page_obj.paginator.num_pages}} </span>

    {% if page_obj.has_next %}
      <a href="?page={{page_obj.next_page_number}}" class="text-teal-500"><i class="fas fa-arrow-right fa-lg"></i></a>
    {% endif %}

    </div>
</div>
{% endblock %}